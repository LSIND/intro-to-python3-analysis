# Основы анализа данных с использованием Python 3

Репо содержит основные задачи по элементарному анализу в Python.

## Projects

Проекты о введении в анализ данных с использованием **Python3.7**, охватывают:
- встроенные типы данных: список (list), кортеж (tuple), множество (set)
- модуль datetime
- модуль matplotlib
- массивы numpy и модуль pandas
- чтение / запись текстовых данных и XML-данных

## [Анализ текста](https://github.com/LSIND/intro-to-python3-analysis/tree/master/TextAnalysis)
> *Использование встроенных возможностей Python для обработки строковых данных*

Код:
  - читает весь текст из файла .txt (включая юникод)
  - удаляет все знаки препинания из текста
  - разбивает текст на независимые слова. В случае сложного слова, содержащего дефис, его следует разделить на два разных слова (например, *черно-белый = черно белый*).
  - печатает слово (слова) с максимальной длиной
  - записывает очищенный текст в новый файл .txt (по одному слову на строку).

Папка также содержит файл .txt с главой 6 «Преступления и наказания» Ф.М. Достоевского с английским и русским текстом.

## [Анализ списка температур](https://github.com/LSIND/intro-to-python3-analysis/tree/master/TemperaturesAnalysis)
> *Использование встроенных возможностей Python для элементарного анализа*

Код:
  - читает весь текст из .txt файла, содержащего список температур
  - печатает максимальные, минимальные и средние температуры
  - печатает общее количество значений
  - печатает количество уникальных значений
  - печатает количество вхождений для каждого значения в виде: *температура: вхождения*, отсортированные по вхождению в порядке возрастания
  - запрашивает у пользователя интервал значений температур *[a; b]* и печатает температуры и их значения, отсортированные по температуре от *a* до *b* в порядке возрастания

Папка содержит файл 1tempdata.txt с набором месячных значений температур в аэропорту Хитроу с 1948 по 2016 гг.

## [Анализ отправлений поездов](https://github.com/LSIND/intro-to-python3-analysis/tree/master/TrainDepAnalysis)
> *Использование модуля datetime*

Код:
- читает файл .txt с данными о плановых и фактических отправлениях поездов с помощью модуля *datetime*

    `import datetime`

| Train # | Sch Dp                    | Act Dp |
|---------|---------------------------|--------|
| 505     | 09/01/2019 7:11   PM (Su) | 7:39PM |
| 508     | 09/01/2019   5:41 PM (Su) | 5:47PM |
| 505     | 08/10/2019 7:11   PM (Sa) |        |
| ...     | ...                       | ...    |

- подсчитывает количество не отправленных поездов (столбец *Act Dp* пуст) и печатает количество не отправленных поездов по дням недели с использованием модуля *collections*;

   `from collections import Counter`
   
- подсчитывает общее количество отправленных поездов, поездов по расписанию, поездов вышедших с задержкой и поездов. отправленных на следующий день.

Папка также включает в себя [depsalem.txt](https://github.com/LSIND/intro-to-python3-analysis/blob/master/TrainDepAnalysis/depsalem.txt) файл с набором [отправлений поездов](https://juckins.net/amtrak_status/archive/html/history.php) из г. Салем. США за период с 09/01/2018 по 09/01/2019.

## [Построение графика курса валют](https://github.com/LSIND/intro-to-python3-analysis/tree/master/PlotCurrencyRates "PlotCurrencyRates")
> *Использование модуля xml для анализа XML-данных и модуля matplotlib для их построения*

Код (модуль **readxml**):

- читает данные с сайта [Центрального банка России](http://www.cbr.ru/development/SXML/), содержащие информацию о валюте в XML-формате:
    * [XML с названиями валют и кодами (идентификаторами)](http://www.cbr.ru/scripts/XML_val.asp?d=0). Код должен извлекать идентификатор из предоставленного имени, например Euro = R01239;
    * [XML с курсами валют](http://www.cbr.ru/scripts/XML_dynamic.asp?date_req1=05/09/2019&date_req2=30/09/2019&VAL_NM_RQ=R01239) в зависимости от идентификатора валюты и промежутка времени (двух дат). Элемент Value содержит отношение валюты к российскому рублю на определенную дату, например 1 евро = 73,0638 руб. на 05/09/2009 (дд/мм/гг);
- использует модули *urllib.request* и *xml.etree.ElementTree* для извлечения и анализа данных XML:
    
     `from urllib.request import urlopen`    
     `from xml.etree.ElementTree import parse`
    
Код (**main. py**):

- предоставляет начальные переменные: название валюты и две даты (период). Их можно изменить или запросить у пользователя.

     `cur = "Euro"`    
     `startdate = "05.09.2019"`    
     `enddate = "30.09.2019"`
- строит график курсов валют: Валюта / Российский рубль, используя *matplotlib*, например:

![currency rates](https://www.dropbox.com/s/d2b03ndlok87q9j/ploteurotorub.PNG?raw=1)


## [Сравнение массива NumPy и встроенного списка (list)](https://github.com/LSIND/intro-to-python3-analysis/tree/master/NPArrayVSList)
> *Использование модуля numpy*

`import numpy as np`

Встроенный пустой список (list) Python (`l1 = []`) занимает 64 байта. Для каждого нового элемента требуется еще 8 байт - ссылка на новый объект. Каждый новый объект int занимает 28 байт. Размер списка `l1 = [5, 10, 15]` равен:


`64 + 8 * len(l1) + 28 * len(l1) = 88 б (список) + 84 б (элементы типа int) = 172 б`

Пустой массив NumPy (`n1 = np.array([])`) занимает 96 байт. Для каждого нового элемента ему также нужно 8 байт для ссылки на новый объект. Размер массива numpy `n1 = np.array ([5, 10, 15])`, где элементы являются типом int64, равен:

`96 + 8 * len(n1) = 120 б`

Массивы NumPy потребляют меньшее памяти и показывают лучшее время обработки.

Код:
- создает два идентичных встроенных списка L1 и L2 и массива NumPy N1 и N2
- подсчитывает время (в секундах) объединения двух списков и двух массивов NumPy
- печатает в соотношении t1/t2 - насколько быстрее происходит объединение массивов numpy по сравнению со встроенными списками

## [Подсчет найма сотрудников](https://github.com/LSIND/intro-to-python3-analysis/tree/master/EmployeesCounts)
> *Использование модуля pandas*

Код:
- считывает данные из CSV-файла, содержащего имена сотрудников и даты/время найма, используя модуль *pandas* в датафрейм

     `import pandas as pd`
    
| ID  | LastName | FirstName | HireDate  | HireTime |
|-----|----------|-----------|-----------|----------|
| 1   | Newell   | Pamella   | 9/9/2018  | 14:57:00 |
| 2   | Green    | Edna      | 8/28/2018 | 7:27:00  |
| ... | ...      |  ...      | ...       | ...      |

- преобразует столбец «HireDate» в формат даты *%Y-%m-%d*
- создает вектор столбца «HireDate» и применяет к нему условие - определенный период
- выводит количество вхождений в вектор (количество нанятых людей на дату)
- строит гистограмму вхождений, например:
 
![employees counts](https://www.dropbox.com/s/zplryx10b7o7iqr/plotemplcount.PNG?raw=1)
 
Папка также содержит файл empl.csv со списком имен сотрудников, дат и времени приема на работу.
